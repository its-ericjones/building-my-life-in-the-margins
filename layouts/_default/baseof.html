<!DOCTYPE html>
<html lang="en">
  <head>
    {{ partial "head.html" . }}
  </head>
  <body>
    <div class="site-wrapper">
      {{ partial "header.html" . }}
      <main>
        {{ block "main" . }}{{ end }}
      </main>
      {{ partial "footer.html" . }}
    </div>

    <!-- Back to Top Button -->
    <a href="#" class="back-to-top" id="backToTop" title="Back to top">â†‘</a>

    <!-- Scroll Logic -->
    <script>
      const backToTop = document.getElementById('backToTop');
      window.addEventListener('scroll', () => {
        if (window.scrollY > 300) {
          backToTop.classList.add('visible');
        } else {
          backToTop.classList.remove('visible');
        }
      });
    </script>

    <!-- External Links Open in New Tabs -->
    <script>
      document.querySelectorAll('article a[href^="http"]').forEach(link => {
        if (!link.href.includes(window.location.hostname)) {
          link.setAttribute('target', '_blank');
          link.setAttribute('rel', 'noopener noreferrer');
        }
      });
    </script>
  </body>
</html>
